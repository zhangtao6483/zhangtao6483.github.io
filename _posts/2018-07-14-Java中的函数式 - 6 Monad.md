---
layout:     post
title:      "Java中的函数式 - 6 Monad"
date:       2018-07-14
author:     "zhangtao"
header-img: "img/post-bg-2018-1.jpg"
catalog: true
tags:
    - 函数式
---



# 1. 范畴

## 1.1 定义

一个[范畴](https://zh.wikipedia.org/wiki/%E7%AF%84%E7%96%87_(%E6%95%B8%E5%AD%B8))C包括：

- 一组对象（*object*）A,B,C...，记为*Ob(C)*
- 一组态射（*morphisrn*或*arrow*）该范畴上的全部态射的集合记为 *Arr(C)*，对于一个 A 到 B 的态射 f，可以写成:f : A → B 

态射：

1. 态射有复合（*composite*）运算，对于一对态射 f : A → B 与 g : B → C，存在一个复合的态射 g ◦ f : A → C
2. 态射的复合操作满足结合律（*associativity*）若 A, B, C, D ∈ Ob(C)，那么态射 f:A→B, g:B→C, h:C→D 都有 g◦(g◦f)=(h◦g)◦f
3. 对于每一个对象 A ∈ Ob(C) 都存在一个单位态射(identity morphism)**1**<sub>A</sub> ∈ C(A,A) 使得对于任意的态射 f ∈ C(A,B) 与 g ∈ C(C,A) 都有： f ◦ **1**<sub>A</sub> = f , **1**<sub>A</sub> ◦ g = g


## 1.2 幺半群（Monoid）


|           | 封闭性 | 结合律 | 有幺元 | 有逆元 |
|-----------|-------|-------|-------|-------|
| 群（Group）| √ | √ | √ | √ |
| 幺半群（Monoid）| √ | √ | √ | × |
| 半群（Semigroup）| √ | √ | × | × |

**幺半群是一个存在单位元（幺元）的半群**

幺半群是一个带有二元运算 *: M × M → M 的集合 M ，其符合下列公理：

封闭性：对任何在 M 内的 a、b，a*b 也会在 M 内。
结合律：对任何在 M 内的a、b、c ， (a * b ) * c = a * ( b * c ) 
单位元：存在一在 M 内的元素e，使得任一于 M 内的 a 都会符合 a * e = e * a = a 

# 2. 函子

范畴间的态射称 为函子(functor)



